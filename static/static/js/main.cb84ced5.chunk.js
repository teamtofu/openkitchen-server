(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(e,t,a){e.exports={h1:"_2ffd6",h2:"bd137",h3:"_2082d",h4:"_3829a",h5:"_81ab7",small:"_52fc5",container:"_4a4d9",row:"bf7d5","col-6":"_2400d","col-12":"_86b19","col-sm-6":"_368f5","col-md-4":"_9b7b8","col-lg-3":"_87a2c","col-lg-5":"ce0f9","col-lg-7":"_03276","form-control":"_0c844",btn:"_002e6","btn-secondary":"_989e5",disabled:"bbf0d","btn-success":"_31763","btn-info":"_5e27e","btn-danger":"_68e07","btn-light":"_68723","btn-dark":"cffd2","btn-outline-primary":"_9c36f","btn-outline-info":"_5467a","btn-outline-danger":"fcf82","btn-outline-dark":"d3d3d","btn-link":"b4048","btn-block":"d1db5",collapse:"_8bf41",show:"a95f8","btn-group":"_847b6","dropdown-toggle":"_37a45","input-group":"_54664","input-group-append":"_091ec",nav:"_6fbf2","nav-link":"_93167",navbar:"e74ab","navbar-brand":"_0b4ed","navbar-nav":"_04b51","navbar-collapse":"_71efe","navbar-toggler":"a64a3","navbar-toggler-icon":"_23ef6","navbar-expand-md":"_86803","navbar-light":"e2fb4",card:"_702f6","list-group":"_53c1b","list-group-item":"ffdf0","card-body":"ad2fc","card-title":"_8ed78","card-text":"_32d0b","card-img-top":"_5ab12",badge:"_41794","badge-dark":"e375c",jumbotron:"_567f0",alert:"_7264d","alert-info":"_1c601","alert-light":"d7131","list-group-flush":"b4867","list-group-item-secondary":"_26519",close:"_2fefc","bg-light":"dffa1","border-0":"b6cf5","border-secondary":"c2b76","rounded-0":"_6fb09","d-none":"_48b3f","d-block":"d6ed3","h-auto":"_72fbb","mx-1":"d22bb","mt-2":"_48626","my-2":"_189c2","mb-2":"_8c4b5","my-3":"_8e83f","mb-3":"_5c8ef","p-0":"f17b5","py-1":"_909af","px-1":"_66ef5","py-2":"_8dec1","pb-2":"_9794d","pt-3":"f49f3","py-3":"_40c27","pb-4":"_8864b","mr-auto":"_05be6","mx-auto":"fa2bf","mt-md-0":"_3a9aa","mt-lg-0":"ce194","text-center":"f7a0a","font-weight-bold":"e93ef","text-muted":"_07843","progress-bar-stripes":"_744fc","spinner-border":"_5df36","spinner-grow":"_19315"}},213:function(e,t,a){e.exports=a(483)},461:function(e,t){},464:function(e,t,a){},465:function(e,t,a){},483:function(e,t,a){"use strict";a.r(t);a(214);var n=a(0),r=a.n(n),c=a(103),l=a.n(c),i=a(16),o=a(17),s=a(19),m=a(18),d=a(20),u=a(14),p=a(55),b=a(201),h=a.n(b),g=a(202),f=a.n(g),v=a(203),y=a.n(v),E=a(204),k=a.n(E),N=a(205),w=a.n(N),j=h.a.createStore([f.a,y.a,k.a],[w.a]),O=a(206),_=a.n(O),C={}.hasOwnProperty,R=function(){for(var e=[],t=0;t<arguments.length;t+=1){var a=arguments[t];if(a){var n=typeof a;if("string"===n||"number"===n)e.push(this&&this[a]||a);else if(Array.isArray(a))e.push(S.apply(this,a));else if("object"===n)for(var r in a)C.call(a,r)&&a[r]&&e.push(this&&this[r]||r)}}return e.join(" ").split(" ")},S=function(e){return e=e||[],function(){var t=R.apply(_.a,arguments);for(var a in e)t=R.apply(e[a],t);return t.join(" ")}},x=document.createElement("canvas");S.webp="no-webp",x.getContext&&x.getContext("2d")&&(S.webp=0===x.toDataURL("image/webp").indexOf("data:image/webp")?"webp":"no-webp");var I=S,D=I([]),M=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=new Date,t=e.getHours(),a=(j.get("plan")||{})["".concat(e.getMonth()+1,"-").concat(e.getDate(),"-").concat(e.getFullYear())],n=j.get("recipes")||{};return r.a.createElement("div",{className:D("container")},r.a.createElement("h2",{className:D("my-2")},t<12?"Good morning!":t<17?"Good afternoon!":"Good Evening!"," Let's get cooking."),r.a.createElement("div",{className:D("row","py-3")},a&&a.recipes[0]&&r.a.createElement("div",{className:D("col-12")},r.a.createElement("ul",{className:D("list-group","mb-3")},r.a.createElement("li",{className:D("list-group-item","list-group-item-secondary")},"On The Menu Today"),a.recipes.map(function(e,t){return n[e]?r.a.createElement("li",{className:D("list-group-item"),key:t},r.a.createElement(u.b,{to:"/recipe/"+e},n[e].name)):null}))),r.a.createElement("div",{className:D("col-12","col-sm-6","col-md-4")},r.a.createElement("div",{className:D("card","mb-2")},r.a.createElement("div",{className:D("card-body")},r.a.createElement("h5",{className:D("card-title")},"Grab a Recipe"),r.a.createElement("p",{className:D("card-text")},"Quickly add recipes by copying a link to the recipe and pasting it."),r.a.createElement(u.b,{to:"/recipes"},"Add a recipe")))),r.a.createElement("div",{className:D("col-12","col-sm-6","col-md-4")},r.a.createElement("div",{className:D("card","mb-2")},r.a.createElement("div",{className:D("card-body")},r.a.createElement("h5",{className:D("card-title")},"Make a Grocery List"),r.a.createElement("p",{className:D("card-text")},"Add items individually or import all of the ingredients from your favorite recipes."),r.a.createElement(u.b,{to:"/groceryList"},"Add an ingredient")))),r.a.createElement("div",{className:D("col-12","col-sm-6","col-md-4")},r.a.createElement("div",{className:D("card","mb-2")},r.a.createElement("div",{className:D("card-body")},r.a.createElement("h5",{className:D("card-title")},"Plan Your Meals"),r.a.createElement("p",{className:D("card-text")},"Know what to buy and make ahead of time with this simple meal planner."),r.a.createElement(u.b,{to:"/mealPlan"},"Make your schedule"))))))}}]),t}(r.a.Component),T=a(80),A=a(209),L=a(64),U=a.n(L),P=a(105),W=a.n(P),F=function(e,t){var a=encodeURIComponent(Array.isArray(e)?"object"===typeof e[0]?e[0].url:e[0]:"object"===typeof e?e.url:e);return t?"https://proxy.duckduckgo.com/iu/?u=".concat(a,"&f=1"):"".concat("","/api/photoProxy?url=").concat(a)},G=function(e){var t=j.get("recipes")[e].recipeIngredient||[],a=j.get("list")||{};for(var n in t){var r={name:t[n],createdAt:(new Date).getTime(),id:Math.random().toString(36).split(".")[1],checked:!1,recipe:e};a[r.id]=r}j.set("list",a)},B=I([]),H=U()(void 0,{autoConnect:!1}),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).fetch=function(){a.state.url&&(H.emit("recipeUrl",a.state.url),a.setState({url:""}))},a.loadRecipes=function(){a.setState({recipes:j.get("recipes")||{}})},a.deleteRecipe=function(e){var t=j.get("recipes")||{};delete t[e],j.set("recipes",t),a.loadRecipes()},a.search=function(e){return new W.a(Object.values(a.state.recipes),{shouldSort:!0,threshold:.6,distance:100,maxPatternLength:20,minMatchCharLength:1,keys:[{name:"name",weight:.7},{name:"description",weight:.3}]}).search(e.substr(0,20))},a.state={url:"",recipes:j.get("recipes")||{},search:""},window.scrollTo(0,0),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;H.open(),H.on("recipe",function(t){var a=j.get("recipes")||{};t.createdAt=(new Date).getTime(),t.id=Math.random().toString(36).split(".")[1],a[t.id]=Object(A.a)({},{"@context":"http://schema.org","@type":"Recipe",cookTime:"P0Y0M0DT0H0M0.000S",image:"about:blank",keywords:"",name:"",description:"",prepTime:"P0Y0M0DT0H0M0.000S",recipeIngredient:[],recipeInstructions:[],totalTime:"P0Y0M0DT0H0M0.000S"},t),j.set("recipes",a),e.loadRecipes()}),H.on("recipeStatus",function(t){e.setState({status:t?"Unable to fetch recipe using that URL.":"All recipes found have been added."})})}},{key:"componentWillUnmount",value:function(){H.close()}},{key:"render",value:function(){var e=this,t=this.state,a=t.url,n=t.recipes,c=t.search,l=[];return c&&(l=this.search(c)),r.a.createElement("div",{className:B("container")},r.a.createElement("h1",{className:B("pt-3","pb-2")},"My Recipes"),r.a.createElement("div",{className:B("input-group","my-3")},r.a.createElement("input",{"aria-label":"Recipe URL",placeholder:"https://www.example.com/recipe",className:B("form-control"),type:"text",value:a,onChange:function(t){return e.setState({url:t.target.value})}}),r.a.createElement("div",{className:B("input-group-append")},r.a.createElement("div",{className:B("btn","btn-dark"),onClick:this.fetch},"Fetch"))),r.a.createElement("input",{"aria-label":"Recipe Search",placeholder:"Search your recipes...",className:B("form-control","my-3"),type:"text",value:c,onChange:function(t){return e.setState({search:t.target.value})}}),r.a.createElement("div",{className:B("row")},(c?l:Object.values(n).reverse()).map(function(t){return r.a.createElement("div",{key:t.id,className:B("col-12","col-sm-6","col-md-4","col-lg-3")},r.a.createElement("div",{className:B("card")},t.image&&r.a.createElement("img",{src:F(t.image),className:B("card-img-top"),alt:t.name,onError:function(e){return e.target.setAttribute("src",F(t.image,!0))}}),r.a.createElement("div",{className:B("card-body")},r.a.createElement("h5",{className:B("card-title")},t.name||"Recipe"),r.a.createElement("div",{className:B("my-2")},Object(T.a)(t.keywords?t.keywords.toUpperCase().split(",").slice(0,3):[]).map(function(e,t){return r.a.createElement("div",{key:t,className:B("badge","badge-dark","mx-1")},e.trim())})),r.a.createElement("div",{className:B("card-text","small")},t.description.replace("&nbsp;","").substr(0,300)||(t.description.length>300?"...":""))),r.a.createElement("div",{className:B("list-group","list-group-flush")},r.a.createElement("li",{className:B("list-group-item")},r.a.createElement(u.b,{to:"/recipe/"+t.id+"/"+encodeURIComponent(t.name.toLowerCase().replace(/\s+/g,"-")),className:B("btn-link")},r.a.createElement("div",{className:B("btn","btn-dark","btn-block")},"View Recipe"))),r.a.createElement("li",{className:B("list-group-item")},r.a.createElement("div",{className:B("btn","btn-info","btn-block"),onClick:function(){G(t.id),e.props.history.push("/groceryList")}},"Add To Groceries")),r.a.createElement("li",{className:B("list-group-item")},r.a.createElement("div",{className:B("btn","btn-danger","btn-block"),onClick:function(){return e.deleteRecipe(t.id)}},"Delete")))))})))}}]),t}(r.a.Component),J=(a(464),I([])),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).deleteRecipe=function(){var e=j.get("recipes")||{};delete e[a.state.recipe.id],j.set("recipes",e),a.setState({recipe:null})},a.importIng=function(){G(a.state.recipe.id),a.props.history.push("/groceryList")},a.state={recipe:(j.get("recipes")||{})[e.match.params.id],highlight:null},window.scrollTo(0,0),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.recipe;return t?r.a.createElement("div",null,r.a.createElement("div",{className:J("jumbotron","text-center","recipe-bg"),style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(".concat(F(t.image),")")}},r.a.createElement("h1",{className:J("my-2")},t.name)),r.a.createElement("div",{className:J("container")},r.a.createElement(u.b,{to:"/recipes",className:J("btn-link")},r.a.createElement("div",{className:J("btn","btn-outline-dark","btn-block")},"Return to Recipes")),r.a.createElement("div",{className:J("my-2")},Object(T.a)(t.keywords?t.keywords.toUpperCase().split(",").slice(0,3):[]).map(function(e,t){return r.a.createElement("div",{key:t,className:J("badge","badge-dark","mx-1")},e.trim())})),t.description&&r.a.createElement("div",{className:J("my-2")},t.description),t.recipeIngredient&&r.a.createElement("div",{className:J("my-2")},r.a.createElement("h3",null,"Ingredients"),r.a.createElement("ul",{className:J("list-group")},t.recipeIngredient.map(function(e,t){return r.a.createElement("li",{key:t,className:J("list-group-item","py-1","small")},e)})),r.a.createElement("div",{className:J("btn","btn-info","btn-block","my-2"),onClick:this.importIng},"Add to Groceries")),t.recipeInstructions&&r.a.createElement("div",{className:J("my-2")},r.a.createElement("h3",null,"Instructions"),Object(T.a)("HowToSection"===t.recipeInstructions[0]["@type"]?t.recipeInstructions:[t.recipeInstructions]).map(function(t,a){return r.a.createElement("ul",{className:J("list-group","my-2"),key:a},t.name&&r.a.createElement("li",{className:J("list-group-item","list-group-item-secondary")},t.name),(t.itemListElement||t).map(function(t,a){return r.a.createElement("li",{key:a,className:"list-group-item instruction py-2"+(e.state.highlight===a?" step-highlight":""),onClick:function(){return e.setState({highlight:a})}},"object"===typeof t?t.text:t)}))})),r.a.createElement("a",{href:t.url||t.mainEntityOfPage||"#link-missing",target:"_blank",rel:"noopener noreferrer",className:J("btn-link")},r.a.createElement("div",{className:J("btn","btn-outline-info","btn-block","my-3")},"Original Recipe")),r.a.createElement(u.b,{to:"/recipes",className:J("btn-link")},r.a.createElement("div",{className:J("btn","btn-outline-dark","btn-block","my-3")},"Return to Recipes")),r.a.createElement("div",{className:J("btn","btn-outline-danger","btn-block","my-3"),onClick:this.deleteRecipe},"Delete Recipe"))):r.a.createElement(p.a,{to:"/recipes"})}}]),t}(r.a.Component),Q=a(137),q=a.n(Q),z=a(210),V=(a(465),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.getElementById(this.props.root).appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById(this.props.root).removeChild(this.el)}},{key:"render",value:function(){return l.a.createPortal(this.props.children,this.el)}}]),t}(r.a.Component)),$=I([]),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).addItem=function(e){var t=j.get("list")||{},n={name:e,createdAt:(new Date).getTime(),id:Math.random().toString(36).split(".")[1],checked:!1};t[n.id]=n,j.set("list",t),a.setState({list:t,itemText:""})},a.removeItem=function(e){var t=j.get("list")||{};delete t[e],j.set("list",t),a.setState({list:t})},a.check=function(e){var t=j.get("list")||{};t[e].checked=!t[e].checked,j.set("list",t),a.setState({list:t})},a.flushList=function(){j.set("list",{}),a.setState({list:{}})},a.print=Object(z.a)(q.a.mark(function e(){var t;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){a.setState({printing:!0},function(){e()})});case 2:(t=document.getElementById("root")).setAttribute("style","display: none !important; opacity: 0 !important;"),window.print(),t.removeAttribute("style"),a.setState({printing:!1});case 7:case"end":return e.stop()}},e)})),a.state={list:j.get("list")||{},itemText:"",printing:!1},window.scrollTo(0,0),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.itemText,c=t.printing;return r.a.createElement("div",{className:$("container")},r.a.createElement("h1",{className:$("my-3")},"Grocery List"),r.a.createElement(u.b,{to:"/recipes",className:$("btn-link")},r.a.createElement("div",{className:$("btn","btn-outline-dark","btn-block","my-3")},"Add Recipe Ingredients")),r.a.createElement("ul",{className:$("list-group","my-3","rounded-0")},Object.values(a).map(function(t,a){var n=t.name,c=t.id,l=t.checked;return r.a.createElement("li",{key:a,className:$("list-group-item","p-0","rounded-0")},r.a.createElement("div",{className:$("input-group")},r.a.createElement("div",{className:$("form-control","h-auto","border-0","rounded-0","list-text",{"text-strike":l,"bg-light":l}),onClick:function(){return e.check(c)}},n),r.a.createElement("div",{className:$("input-group-append")},r.a.createElement("div",{className:$("btn","btn-light","rounded-0"),onClick:function(){return e.removeItem(c)}},r.a.createElement("div",null,"Remove")))))})),r.a.createElement("div",{className:$("input-group")},r.a.createElement("input",{type:"text",className:$("form-control"),value:n,onChange:function(t){e.setState({itemText:t.target.value})}}),r.a.createElement("div",{className:$("input-group-append")},r.a.createElement("div",{className:$("btn","btn-dark"),onClick:function(){return e.addItem(n)}},"Add Item"))),r.a.createElement("div",{className:$("btn","btn-outline-primary","btn-block","my-2"),onClick:this.print},"Print"),r.a.createElement("div",{className:$("btn","btn-outline-danger","btn-block","my-2"),onClick:this.flushList},"Clear List"),c&&r.a.createElement(V,{root:"print-root"},r.a.createElement("h1",null,"Grocery List"),r.a.createElement("div",{className:$("row","my-2"),style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Symbol", "Noto Color Emoji"'}},Object.values(a).map(function(e,t){var a=e.name,n=(e.id,e.checked);return r.a.createElement("div",{key:t,className:$("col-6")},r.a.createElement("div",{className:$("my-2")},n?r.a.createElement("strike",null,"\u2611 ",a):r.a.createElement("span",null,"\u2610 ",a)))})),r.a.createElement("hr",null),r.a.createElement("h3",{className:$("my-2")},"Menu Elements"),r.a.createElement("ul",{className:$("my-2")},Object.values(a).reduce(function(e,t){return console.log(t.recipe,e),t.recipe&&-1===e.indexOf(t.recipe)&&e.push(t.recipe),e},[]).map(function(e,t){return r.a.createElement("li",{key:t,className:$("col-6")},j.get("recipes")[e].name)})),r.a.createElement("div",{className:$("d-block")},r.a.createElement("hr",null),r.a.createElement("small",{className:$("text-center","text-muted","pt-3")},"Made by Open Kitchen. MIT \xa9 2019 Russell Steadman. Generated on ",(new Date).getMonth()+1,"/",(new Date).getDate(),"."))))}}]),t}(r.a.Component),Z=a(211),ee=a.n(Z),te=I([]),ae=U()(void 0,{autoConnect:!1}),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).setId=function(e){var t=new ee.a({element:document.createElement("canvas"),value:"".concat(window.location.origin,"/sync/").concat(e),background:"white",foreground:"black",backgroundAlpha:1,foregroundAlpha:1,level:"M",mime:"image/png",size:192});a.setState({code:t.toDataURL(),id:e})},a.state={code:"about:blank",id:""},window.scrollTo(0,0),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;ae.open(),ae.on("connect",function(){console.log(ae.id),e.setId(ae.id)}),ae.on("syncRequest",function(e){console.log(e),ae.emit("syncData",e,{recipes:j.get("recipes"),list:j.get("list"),plan:j.get("plan")})})}},{key:"componentWillUnmount",value:function(){ae.close()}},{key:"render",value:function(){var e=this.state,t=e.code,a=e.id;return r.a.createElement("div",{className:te("container")},r.a.createElement("h1",{className:te("pt-3","pb-2")},"Sync"),r.a.createElement("img",{src:t,alt:"QR Code",height:192,width:192,style:{color:"transparent",width:"192px",height:"192px"},className:te("mx-auto","text-center","d-block")}),r.a.createElement("div",{className:te("form-control","my-2")},window.location.origin,"/sync/",a),r.a.createElement("div",{className:te("alert","alert-info","my-3")},"Open the link or scan the QR Code on the other device to sync data from this device."))}}]),t}(r.a.Component),re=I([]),ce=U()(void 0,{autoConnect:!1}),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={id:e.match.params.id},window.scrollTo(0,0),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;ce.open(),ce.on("connect",function(){ce.emit("syncRequest",e.state.id)}),ce.on("syncData",function(t){for(var a in console.log(t),t)j.set(a,t[a]);e.props.history.push("/")})}},{key:"componentWillUnmount",value:function(){ce.close()}},{key:"render",value:function(){return r.a.createElement("div",{className:re("container")},r.a.createElement("h1",{className:re("pt-3","pb-2")},"Syncing..."),r.a.createElement("div",{className:re("alert","alert-info","my-3")},"Just one second..."))}}]),t}(r.a.Component),ie=a(104),oe=a(212),se=a.n(oe),me=I([]),de=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).search=function(e){return a.fuse.search(e.substr(0,20))},a.setRecipe=function(e){a.setState({recipe:e,search:""})},a.addRecipe=function(e){var t=a.state.recipe;if(t){var n=j.get("plan")||{};for(var r in e)a.state[e[r].dayId]&&-1!==e[r].rel&&(n[e[r].pkey]={id:e[r].pkey,recipes:(n[e[r].pkey]?n[e[r].pkey].recipes:[]).concat([t])});j.set("plan",n),a.setState({plan:n,search:"",recipe:"",su:!1,mo:!1,tu:!1,we:!1,th:!1,fr:!1,sa:!1})}},a.removeRecipe=function(e,t){var n=j.get("plan");n[e].recipes.splice(n[e].recipes.indexOf(t),1),j.set("plan",n),a.setState({plan:n})},a.mergeRecipeIng=function(e){var t=[];for(var n in e){var r=(a.state.plan[e[n].pkey]||{}).recipes||[];for(var c in r)-1===t.indexOf(r[c])&&t.push(r[c])}for(var l in t)G(t[l]);a.props.history.push("/groceryList")},a.replaceRecipeIng=function(e){j.remove("list"),a.mergeRecipeIng(e)},a.state={plan:j.get("plan")||{},date:new Date,search:"",recipe:"",recipes:j.get("recipes")||{},su:!1,mo:!1,tu:!1,we:!1,th:!1,fr:!1,sa:!1};return a.fuse=new W.a(Object.values(a.state.recipes),{shouldSort:!0,threshold:.6,distance:100,maxPatternLength:20,minMatchCharLength:1,keys:[{name:"name",weight:.7},{name:"description",weight:.3}]}),window.scrollTo(0,0),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.plan,n=t.date,c=t.search,l=t.recipe,i=t.recipes,o=new Date,s=new Date(n);s.setDate(s.getDate()-s.getDay());var m=[];c&&(m=this.search(c));var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(function(e,t){var a=new Date(s);return a.setDate(a.getDate()+t),{name:e,abbr:e.substr(0,2),dayId:e.substr(0,2).toLowerCase(),rel:o.toDateString()===a.toDateString()?0:o>a?-1:1,two:"".concat(a.getMonth()+1,"/").concat(a.getDate()),pkey:"".concat(a.getMonth()+1,"-").concat(a.getDate(),"-").concat(a.getFullYear())}});return r.a.createElement("div",{className:me("container")},r.a.createElement("h1",{className:me("pt-3","pb-2")},"My Meal Plan"),r.a.createElement("div",{className:me("row")},r.a.createElement("div",{className:me("col-12","col-lg-5")},r.a.createElement("div",{className:me("d-block")},r.a.createElement(se.a,{className:me("mx-auto"),onChange:function(t){return e.setState({date:t})},value:n,calendarType:"US",minDetail:"month",minDate:new Date}))),r.a.createElement("div",{className:me("col-12","col-lg-7")},r.a.createElement("div",{className:me("my-3","mt-lg-0")},r.a.createElement("h3",null,"Week ",d[0].two,"-",d[6].two),r.a.createElement("hr",null),r.a.createElement("div",{className:me("pb-4")},r.a.createElement("label",{htmlFor:"select-recipe"},"Select a Recipe"),r.a.createElement("select",{id:"select-recipe",className:me("form-control","mb-3"),value:l,onChange:function(t){return e.setRecipe(t.target.value)}},r.a.createElement("option",null,"Select a Recipe"),Object.values(i).map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),r.a.createElement("label",{htmlFor:"search-recipe"},"Search Recipes"),r.a.createElement("input",{id:"search-recipe",type:"text",className:me("form-control","mb-3"),value:c,onChange:function(t){return e.setState({search:t.target.value})},placeholder:"Search Recipes"}),m[0]&&r.a.createElement("ul",{className:me("list-group","my-3")},m.slice(0,3).map(function(t,a){return r.a.createElement("li",{key:a,className:me("list-group-item"),onClick:function(){return e.setRecipe(t.id)}},t.name)})),r.a.createElement("label",{htmlFor:"day-list"},"Days to Add"),r.a.createElement("div",{className:me("btn-group","btn-block"),id:"day-list"},d.map(function(t,a){var n=t.abbr,c=t.dayId,l=t.rel;return r.a.createElement("div",{className:me("btn","px-1",{"btn-secondary":-1===l,"btn-success":e.state[c]&&-1!==l,"btn-danger":!e.state[c]&&-1!==l}),key:a,onClick:function(){return e.setState(Object(ie.a)({},c,!e.state[c]))}},n)})),r.a.createElement("div",{className:me("btn","btn-dark","btn-block","my-2"),onClick:function(){return e.setState({su:!1,mo:!0,tu:!0,we:!0,th:!0,fr:!0,sa:!1})}},"Select All Weekdays"),r.a.createElement("div",{className:me("btn","btn-info","btn-block","my-3"),onClick:function(){return e.addRecipe(d)}},"Add Recipe")),r.a.createElement("div",null,d.map(function(t,n){var c=t.name,l=t.two,o=t.pkey,s=t.rel,m=a[o]||{};return r.a.createElement("div",{key:n,className:me("my-2")},r.a.createElement("h4",{className:0===s?"font-weight-bold":-1===s?"text-muted":""},c," (",l,")"),-1!==s?r.a.createElement("div",null,!(m.recipes||[])[0]&&r.a.createElement("div",{className:me("alert","alert-light","border-secondary")},r.a.createElement("b",null,"No recipes yet!")," Add them above."),(m.recipes||[]).map(function(t,a){var n=i[t];return r.a.createElement("div",{key:a,className:me("input-group","rounded-0")},r.a.createElement("div",{className:me("form-control","h-auto","rounded-0")},n.name),r.a.createElement("div",{className:me("input-group-append")},r.a.createElement("div",{className:me("btn","btn-danger","rounded-0"),onClick:function(){return e.removeRecipe(o,t)}},"Remove")))})):null)}),r.a.createElement("div",{className:me("btn-group","btn-block","my-3")},r.a.createElement("div",{className:me("btn","btn-light"),onClick:function(){return e.mergeRecipeIng(d)}},"Merge To Groceries"),r.a.createElement("div",{className:me("btn","btn-dark"),onClick:function(){return e.replaceRecipeIng(d)}},"Replace Groceries")))))))}}]),t}(r.a.Component),ue=I([]),pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).download=function(e){e.preventDefault();var t=new Blob([JSON.stringify({recipes:j.get("recipes"),list:j.get("list"),plan:j.get("plan"),version:1})],{type:"application/json"}),a=document.createElement("a");a.setAttribute("href",URL.createObjectURL(t)),a.setAttribute("download","my.ktcn"),document.body.appendChild(a),a.click(),document.body.removeChild(a)},a.import=function(e){e.preventDefault(),a.importEl.current.click()},a.fileChange=function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.readAsText(t,"UTF-8"),a.onload=function(e){try{var t=JSON.parse(e.target.result);for(var a in t)"version"!==a&&j.set(a,t[a]);window.location.reload()}catch(n){console.error("Import Error",n)}},a.onerror=function(e){console.error("Import Error")}}},a.state={collapsed:!0},a.importEl=r.a.createRef(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.collapsed;return r.a.createElement("div",{className:ue("app")},r.a.createElement("header",null,r.a.createElement("nav",{className:ue("navbar","navbar-expand-md","navbar-light","bg-light")},r.a.createElement("button",{className:ue("navbar-toggler"),type:"button","aria-label":"Toggle navigation",onClick:function(){return e.setState({collapsed:!t})}},r.a.createElement("span",{className:ue("navbar-toggler-icon")})),r.a.createElement(u.b,{className:ue("navbar-brand"),to:"/"},"Open Kitchen"),r.a.createElement("div",{className:ue("collapse","navbar-collapse",{show:t})},r.a.createElement("ul",{className:ue("navbar-nav","mr-auto","mt-2","mt-md-0")},r.a.createElement("li",{className:ue("nav-item")},r.a.createElement(u.b,{className:ue("nav-link"),to:"/recipes"},"Recipes")),r.a.createElement("li",{className:ue("nav-item")},r.a.createElement(u.b,{className:ue("nav-link"),to:"/groceryList"},"Grocery List")),r.a.createElement("li",{className:ue("nav-item")},r.a.createElement(u.b,{className:ue("nav-link"),to:"/mealPlan"},"Meal Plan")))))),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/groceryList",component:X}),r.a.createElement(p.b,{path:"/recipe/:id",component:K}),r.a.createElement(p.b,{exact:!0,path:"/recipes",component:Y}),r.a.createElement(p.b,{exact:!0,path:"/sync",component:ne}),r.a.createElement(p.b,{path:"/sync/:id",component:le}),r.a.createElement(p.b,{path:"/mealPlan",component:de}),r.a.createElement(p.b,{component:M})),r.a.createElement("footer",{className:ue("container","text-center","py-3")},r.a.createElement("hr",null),r.a.createElement("div",{className:ue("my-2")},r.a.createElement("a",{href:"#download",onClick:this.download},"Download File")," \xb7 ",r.a.createElement("a",{href:"#import",onClick:this.import},"Import From File")," \xb7 ",r.a.createElement(u.b,{to:"/sync"},"Sync To Device")),r.a.createElement("input",{type:"file",className:ue("d-none"),ref:this.importEl,accept:".ktcn,application/json",onChange:this.fileChange}),r.a.createElement("div",null,"MIT \xa9 2019 Russell Steadman. Made with ",r.a.createElement("span",{role:"img","aria-label":"Heart"},"\u2764\ufe0f")," for my mama.")))}}]),t}(r.a.Component),be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(u.a,null,r.a.createElement(pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");be?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):he(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):he(t,e)})}}()}},[[213,1,2]]]);
//# sourceMappingURL=main.cb84ced5.chunk.js.map